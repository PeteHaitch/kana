"use strict";(self.webpackChunkkana=self.webpackChunkkana||[]).push([[431],{4090:function(n,t,r){function e(n){self.onmessage=n}function i(n,t){self.postMessage(n,t)}r.d(t,{j:function(){return e},b:function(){return i}})},7891:function(n,t,r){r.d(t,{Yl:function(){return i},xi:function(){return a}});var e=r(4660);function i(n){e.safeFree(n)}function u(n,t,r,e){if(!r&&(n instanceof ArrayBuffer||ArrayBuffer.isView(n)))throw new Error("parameters cannot contain ArrayBuffers or their views");if(!e&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error("parameters cannot contain ArrayBuffers or their views")}function a(n,t){if(typeof n!=typeof t)return u(n,t,!1,!1),!0;if("object"!=typeof n)return n!=t;var r=null===n,e=null===t;if(r!==e)return u(n,t,r,e),!0;if(r)return!1;var i=n instanceof Array,s=t instanceof Array;if(i!=s)return u(n,t,i,s),!0;if(i){if(n.length!=t.length)return!0;for(var o=0;o<n.length;o++)if(a(n[o],t[o]))return!0;return!1}u(n,t,!1,!1);var f=Object.keys(n),c=Object.keys(t);if(f.length!=c.length)return!0;f.sort(),c.sort();for(o=0;o<f.length;o++)if(f[o]!=c[o])return!0;for(var l=0,h=f;l<h.length;l++){var y=h[l];if(a(n[y],t[y]))return!0}return!1}},498:function(n,t,r){r.d(t,{Z:function(){return i},q:function(){return u}});var e=r(4660);function i(n){return n?75:1e6}function u(n){var t=null,r=null,i=null,u=null;try{var a=n.num_obs,s=n.size;(r=e.createInt32WasmArray(a)).set(n.runs),(i=e.createInt32WasmArray(s)).set(n.indices),(u=e.createFloat64WasmArray(s)).set(n.distances),t=e.FindNearestNeighborsResults.unserialize(r,i,u)}finally{null!==r&&r.free(),null!==i&&i.free(),null!==u&&u.free()}return t}},4021:function(n,t,r){r(6635)},2306:function(n,t,r){r(6635),r(7108)},5941:function(n,t,r){r(8782)},5644:function(n,t,r){r(6635),r(6737)},5470:function(n,t,r){r(6635),r(2306),r(7108)},6199:function(n,t,r){r(6635),r(4812)},2494:function(n,t,r){r(6635),r(7108),r(5159)},9273:function(n,t,r){r(6635),r(7108),r(7067)},2690:function(n,t,r){r(7108),r(6635),r(6807)},2195:function(n,t,r){r(7108),r(6635),r(6078)},4902:function(n,t,r){r(7108),r(6635),r(6807)},6292:function(n,t,r){r(7108),r(6635),r(6078)},5219:function(n,t,r){r(6635),r(8782)},489:function(n,t,r){r(5941)},8420:function(n,t,r){r(7108),r(6635),r(4902)},7067:function(n,t,r){r.d(t,{ZF:function(){return h},qv:function(){return Z},wf:function(){return d}});var e=r(5671),i=r(3144),u=r(2346),a=r(6033),s=r(3092),o=r(6635),f=r(7108),c=(r(5159),new WeakMap),l=new WeakMap,h=function(){function n(t,r){(0,e.Z)(this,n),(0,u.Z)(this,c,{writable:!0,value:void 0}),(0,u.Z)(this,l,{writable:!0,value:void 0}),(0,s.Z)(this,c,t),(0,s.Z)(this,l,r)}return(0,i.Z)(n,[{key:"numberOfCells",value:function(){return(0,a.Z)(this,l).num_obs()}},{key:"numberOfDims",value:function(){return(0,a.Z)(this,l).num_dim()}},{key:"free",value:function(){null!==(0,a.Z)(this,l)&&(f.A((0,a.Z)(this,c)),(0,s.Z)(this,l,null))}},{key:"index",get:function(){return(0,a.Z)(this,l)}}]),n}();var y=new WeakMap,v=new WeakMap,Z=function(){function n(t,r){(0,e.Z)(this,n),(0,u.Z)(this,y,{writable:!0,value:void 0}),(0,u.Z)(this,v,{writable:!0,value:void 0}),(0,s.Z)(this,y,t),(0,s.Z)(this,v,r)}return(0,i.Z)(n,[{key:"size",value:function(){return(0,a.Z)(this,v).size()}},{key:"numberOfCells",value:function(){return(0,a.Z)(this,v).num_obs()}},{key:"results",get:function(){return(0,a.Z)(this,v)}},{key:"serialize",value:function(){var n,t,r,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=i.runs,s=void 0===u?null:u,f=i.indices,c=void 0===f?null:f,l=i.distances,h=void 0===l?null:l,y=(null===s)+(null===c)+(null===h);if(3!=y&&0!=y)throw new Error("either all or none of 'runs', 'indices' and 'distances' can be 'null'");if(3===y)try{t=o.Wf(this.numberOfCells());var Z=this.size();r=o.Wf(Z),e=o.RJ(Z),(0,a.Z)(this,v).serialize(t.offset,r.offset,e.offset),n={runs:t.slice(),indices:r.slice(),distances:e.slice()}}finally{o.gd(t),o.gd(r),o.gd(e)}else(0,a.Z)(this,v).serialize(s.offset,c.offset,h.offset),n={runs:s.array(),indices:c.array(),distances:h.array()};return n}},{key:"free",value:function(){null!==(0,a.Z)(this,v)&&(f.A((0,a.Z)(this,y)),(0,s.Z)(this,v,null))}}],[{key:"unserialize",value:function(t,r,e){var i,u,a,s;try{u=o.de(t,"Int32WasmArray"),a=o.de(r,"Int32WasmArray"),s=o.de(e,"Float64WasmArray"),i=f.R((function(n){return new n.NeighborResults(t.length,u.offset,a.offset,s.offset)}),n)}catch(c){throw o.gd(i),c}finally{o.gd(u),o.gd(a),o.gd(s)}return i}}]),n}();function d(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=r.numberOfThreads,i=void 0===e?null:e,u=o.mV(i);return f.R((function(r){return r.find_nearest_neighbors(n.index,t,u)}),Z)}},7108:function(n,t,r){r.d(t,{A:function(){return s},R:function(){return f}});var e=r(5647),i=r(8782),u={},a=0;function s(n){n in u&&(u[n].delete(),delete u[n])}var o=new FinalizationRegistry(s);function f(n,t){var r,f=i.RE(n),c=a;u[c]=f,a++;try{for(var l=arguments.length,h=new Array(l>2?l-2:0),y=2;y<l;y++)h[y-2]=arguments[y];r=(0,e.Z)(t,[c,f].concat(h))}catch(v){throw s(c),v}return o.register(r,c),r}},9283:function(n,t,r){r(8782),r(6635),r(2306),r(6737)},2284:function(n,t,r){r(8939)},6126:function(n,t,r){r(6635),r(8782),r(6774)},8311:function(n,t,r){r(7108),r(8782),r(6635),r(2306)},6807:function(n,t,r){r(6635)},6078:function(n,t,r){r(8782),r(6635),r(6737)},6774:function(n,t,r){r(6635)},3779:function(n,t,r){r(7108),r(8782),r(6635),r(2306),r(6737),r(8311)},1184:function(n,t,r){r(7108),r(6635)},845:function(n,t,r){r(8782),r(6635),r(2306),r(6737)},5696:function(n,t,r){r(6635),r(5159),r(8782)},4812:function(n,t,r){r(7108),r(6635)},8939:function(n,t,r){r(2306)},6974:function(n,t,r){r(2494),r(1184),r(9283),r(5159),r(6635)},6663:function(n,t,r){r(6635),r(8782),r(7108),r(6774)},3459:function(n,t,r){r(489)},5159:function(n,t,r){r(7108),r(6635)},2732:function(n,t,r){r(8782),r(6635),r(7067)},9249:function(n,t,r){r(7108),r(6635)},1196:function(n,t,r){r(6635),r(8782),r(4021)},6635:function(n,t,r){r.d(t,{Wf:function(){return u},RJ:function(){return a},de:function(){return s},mV:function(){return o},gd:function(){return f},ek:function(){return c},ab:function(){return l}});var e=r(8782),i=r(6737);function u(n){return i.Wf((0,e.Fx)(),n)}function a(n){return i.RJ((0,e.Fx)(),n)}function s(n,t){if(n instanceof i.PQ){if(null!==t&&t!=n.constructor.className)throw new Error("expected '"+t+"', got '"+n.constructor.className+"'");return n.space===(0,e.Fx)()?null===n.owner?n.view():n:n.clone((0,e.Fx)())}return null!==t?i.Zv((0,e.Fx)(),n,i.rr(t)):i.Zv((0,e.Fx)(),n)}function o(n){return null==n?(0,e.TT)():n}function f(n){if("undefined"!=typeof n&&null!=n)return n.free()}function c(n){return f(n)}function l(n,t){for(var r=new Float64Array(n),e=new Float64Array(n),i=0;i<n;i++)r[i]=t[2*i],e[i]=t[2*i+1];return{x:r,y:e}}},8782:function(n,t,r){r.d(t,{j2:function(){return o},TT:function(){return c},RE:function(){return l},Fx:function(){return h}});var e=r(5861),i=r(7757),u=r(8308),a=r(6737),s=(r(5941),{});function o(){return f.apply(this,arguments)}function f(){return f=(0,e.Z)(i.mark((function n(){var t,r,e,o,f,c,l=arguments;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},r=t.numberOfThreads,e=void 0===r?4:r,o=t.localFile,f=void 0!==o&&o,!("module"in s)){n.next=3;break}return n.abrupt("return",!1);case 3:return c={scran_custom_nthreads:e},f&&(c.locateFile=function(n){return"file:///home/runner/work/kana/kana/node_modules/scran.js/browser/wasm.js".substring(7)+"/../wasm/"+n}),n.next=7,(0,u.default)(c);case 7:return s.module=n.sent,s.space=(0,a.z2)(s.module),n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function c(){return s.module.scran_custom_nthreads}function l(n){if(!("module"in s))throw new Error("Wasm module needs to be initialized via 'initialize()'");var t;try{t=n(s.module)}catch(r){throw"number"==typeof r?new Error(s.module.get_error_message(r)):r}return t}function h(){return s.space}},2905:function(n,t,r){r.d(t,{P:function(){return Z}});var e,i=r(5671),u=r(3144),a=r(2346),s=r(6033),o=r(3092),f=r(2813),c=new WeakMap,l=new WeakMap,h=new WeakMap,y=new WeakMap,v=new WeakMap;e=Symbol.iterator;var Z=function(){function n(t,r,e,u,s){(0,i.Z)(this,n),(0,a.Z)(this,c,{writable:!0,value:void 0}),(0,a.Z)(this,l,{writable:!0,value:void 0}),(0,a.Z)(this,h,{writable:!0,value:void 0}),(0,a.Z)(this,y,{writable:!0,value:void 0}),(0,a.Z)(this,v,{writable:!0,value:void 0}),(0,o.Z)(this,c,t),(0,o.Z)(this,l,r),(0,o.Z)(this,h,e),(0,o.Z)(this,y,u),(0,o.Z)(this,v,s)}return(0,u.Z)(n,[{key:"space",get:function(){return(0,s.Z)(this,c)}},{key:"id",get:function(){return(0,s.Z)(this,l)}},{key:"offset",get:function(){return(0,s.Z)(this,y)}},{key:"byteOffset",get:function(){return(0,s.Z)(this,y)}},{key:"buffer",get:function(){return(0,f.f3)((0,s.Z)(this,c))}},{key:"byteLength",get:function(){return this.length*this.constructor.valueSize}},{key:"length",get:function(){return(0,s.Z)(this,h)}},{key:"owner",get:function(){return(0,s.Z)(this,v)}},{key:"fill",value:function(n,t,r){var e=this.array();return e.fill.apply(e,arguments),e}},{key:"set",value:function(n,t){var r;(r=this.array()).set.apply(r,arguments)}},{key:"slice",value:function(n,t){var r;return(r=this.array()).slice.apply(r,arguments)}},{key:"clone",value:function(n){"undefined"===typeof n&&(n=(0,s.Z)(this,c));var t=(0,f.TK)(n,(0,s.Z)(this,h),this.constructor);return t.set(this.array()),t}},{key:"view",value:function(n,t){"undefined"===typeof n&&(n=0),"undefined"===typeof t&&(t=(0,s.Z)(this,h));var r=t-n,e=(0,s.Z)(this,v);null===e&&(e=this);var i=n*this.constructor.valueSize;return new this.constructor((0,s.Z)(this,c),-1,r,(0,s.Z)(this,y)+i,e)}},{key:"free",value:function(){null===(0,s.Z)(this,v)&&null!==(0,s.Z)(this,y)&&((0,f.Ar)((0,s.Z)(this,c),(0,s.Z)(this,l)),(0,o.Z)(this,y,null))}},{key:e,value:function(){return this.values()}},{key:"values",value:function(){return this.array().values()}},{key:"keys",value:function(){return this.array().keys()}},{key:"at",value:function(n){return this.array().at(n)}},{key:"forEach",value:function(n,t){var r;(r=this.array()).forEach.apply(r,arguments)}},{key:"filter",value:function(n,t){var r;return(r=this.array()).filter.apply(r,arguments)}},{key:"map",value:function(n,t){var r;return(r=this.array()).map.apply(r,arguments)}},{key:"subarray",value:function(n,t){return this.array().subarray(n,t)}},{key:"every",value:function(n,t){var r;return(r=this.array()).every.apply(r,arguments)}},{key:"some",value:function(n,t){var r;return(r=this.array()).some.apply(r,arguments)}},{key:"reduce",value:function(n,t){var r;return(r=this.array()).reduce.apply(r,arguments)}},{key:"reduceRight",value:function(n,t){var r;return(r=this.array()).reduceRight.apply(r,arguments)}},{key:"sort",value:function(n){return this.array().sort(n)}},{key:"reverse",value:function(){return this.array().reverse()}}]),n}()},8383:function(n,t,r){r.d(t,{do:function(){return Z},lt:function(){return k},rr:function(){return g}});var e=r(5671),i=r(3144),u=r(136),a=r(9388),s=r(4942),o=r(2813),f=r(2905),c=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Uint8Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(c,"className","Uint8WasmArray"),(0,s.Z)(c,"valueSize",1);var l=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Int8Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(l,"className","Int8WasmArray"),(0,s.Z)(l,"valueSize",1);var h=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Uint16Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(h,"className","Uint16WasmArray"),(0,s.Z)(h,"valueSize",2);var y=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Int16Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(y,"className","Int16WasmArray"),(0,s.Z)(y,"valueSize",2);var v=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Uint32Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(v,"className","Uint32WasmArray"),(0,s.Z)(v,"valueSize",4);var Z=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Int32Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(Z,"className","Int32WasmArray"),(0,s.Z)(Z,"valueSize",4);var d=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new BigUint64Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(d,"className","BigUint64WasmArray"),(0,s.Z)(d,"valueSize",8);var p=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new BigInt64Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(p,"className","BigInt64WasmArray"),(0,s.Z)(p,"valueSize",8);var m=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Float32Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(m,"className","Float32WasmArray"),(0,s.Z)(m,"valueSize",4);var k=function(n){(0,u.Z)(r,n);var t=(0,a.Z)(r);function r(){return(0,e.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"array",value:function(){return new Float64Array((0,o.f3)(this.space),this.offset,this.length)}}]),r}(f.P);(0,s.Z)(k,"className","Float64WasmArray"),(0,s.Z)(k,"valueSize",8);var w={Uint8WasmArray:c,Int8WasmArray:l,Uint16WasmArray:h,Int16WasmArray:y,Uint32WasmArray:v,Int32WasmArray:Z,BigUint64WasmArray:d,BigInt64WasmArray:p,Float32WasmArray:m,Float64WasmArray:k};function g(n){if(!(n in w))throw new Error("unknown WasmArray class '"+n+"'");return w[n]}},6737:function(n,t,r){r.d(t,{PQ:function(){return e.P},Zv:function(){return f.Zv},RJ:function(){return o},Wf:function(){return s},z2:function(){return u.z2},rr:function(){return i.rr}});var e=r(2905),i=r(8383),u=r(2813);function a(n,t,r){return(0,u.TK)(n,t,r)}function s(n,t){return a(n,t,i.do)}function o(n,t){return a(n,t,i.lt)}var f=r(4163)}}]);
//# sourceMappingURL=431.15d644da.chunk.js.map