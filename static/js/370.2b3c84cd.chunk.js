!function(){"use strict";var t={3370:function(t,n,r){var e,i=r(9451),o=r(8148),a=r(1139),u=r(7851),s={},f=!1,c={},l={};function d(t,n){s.init.numberOfCells();var r=a.Z(t),e=s.init.clone();try{for(;e.iterations()<n;)if(i.DG(e,{runTime:r,maxIterations:n}),t){var o=e.extractCoordinates();u.b({type:"tsne_iter",x:o.x,y:o.y,iteration:e.iterations()},[o.x.buffer,o.y.buffer])}s.final=e.extractCoordinates()}finally{e.free()}}u.j((function(t){var n=t.data.id;"INIT"==t.data.cmd?(e=i.j2(t.data.scranOptions)).then((function(t){u.b({id:n,type:"init_worker",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RUN"==t.data.cmd?e.then((function(r){var e;"neighbors"in t.data?(o.Yl(s.neighbors),s.neighbors=a.q(t.data.neighbors),e=!0):e=!1;var h={perplexity:t.data.params.perplexity};e||o.xi(h,c)?(o.Yl(s.init),s.init=i.xv(s.neighbors,{perplexity:h.perplexity}),c=h,f=!0):f=!1;var p={iterations:t.data.params.iterations};(f||o.xi(p,l))&&(d(t.data.params.animate,p.iterations),l=p),u.b({id:n,type:"tsne_run",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RERUN"==t.data.cmd?e.then((function(t){d(!0,l.iterations),u.b({id:n,type:"tsne_rerun",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"FETCH"==t.data.cmd&&e.then((function(t){var r={x:s.final.x.slice(),y:s.final.y.slice(),iterations:l.iterations},e=[r.x.buffer,r.y.buffer];u.b({id:n,type:"tsne_fetch",data:r},e)})).catch((function(t){u.b({id:n,type:"error",error:t})}))}))},9451:function(t,n,r){r.d(n,{j2:function(){return e.j2},Wf:function(){return i.Wf},RJ:function(){return i.RJ},Tz:function(){return o.Tz},xv:function(){return a.xv},DG:function(){return a.DG}});var e=r(3515),i=r(519),o=(r(9288),r(1305),r(1402),r(3754),r(166),r(1742),r(7236),r(6301),r(5701),r(8333),r(2863),r(9586),r(7242),r(3486),r(3752),r(944),r(4657),r(5026),r(8538),r(1620)),a=(r(8840),r(9542));r(7217),r(552),r(7085),r(7940),r(5767),r(5325)},9542:function(t,n,r){r.d(n,{xv:function(){return c},DG:function(){return l}});var e=r(5671),i=r(3144),o=r(519),a=r(3515),u=r(1620),s=function(){function t(n,r){(0,e.Z)(this,t),this.status=n,this.coordinates=r}return(0,i.Z)(t,[{key:"clone",value:function(){return new t(this.status.deepcopy(),this.coordinates.clone())}},{key:"numberOfCells",value:function(){return this.status.num_obs()}},{key:"iterations",value:function(){return this.status.iterations()}},{key:"extractCoordinates",value:function(){return o.ab(this.numberOfCells(),this.coordinates.array())}},{key:"free",value:function(){null!==this.status&&(this.status.delete(),this.status=null),null!==this.coordinates&&(this.coordinates.free(),this.coordinates=null)}}]),t}();function f(t){return a.RE((function(n){return n.perplexity_to_k(t)}))}function c(t){var n,r,e,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.perplexity,d=void 0===l?30:l,h=c.checkMismatch,p=void 0===h||h;try{var v;if(t instanceof u.DV){var b=f(d);n=(0,u.wf)(t,b),v=n}else{if(p){var y=f(d);if(y*t.numberOfCells()!=t.size())throw new Error("number of neighbors in 'x' does not match '3 * perplexity'")}v=t}r=a.RE((function(t){return t.initialize_tsne(v.results,d)})),e=o.RJ(2*v.numberOfCells()),a.RE((function(t){return t.randomize_tsne_start(v.numberOfCells(),e.offset,42)})),i=new s(r,e)}catch(x){throw o.gd(r),o.gd(e),x}finally{o.gd(n)}return i}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.maxIterations,e=void 0===r?1e3:r,i=n.runTime,o=void 0===i?null:i;null===o&&(o=-1),a.RE((function(n){return n.run_tsne(t.status,o,e,t.coordinates.offset)}))}},7217:function(t,n,r){r(519),r(3515),r(1620)}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,r.x=function(){var t=r.O(void 0,[373,318],(function(){return r(3370)}));return t=r.O(t)},function(){var t=[];r.O=function(n,e,i,o){if(!e){var a=1/0;for(c=0;c<t.length;c++){e=t[c][0],i=t[c][1],o=t[c][2];for(var u=!0,s=0;s<e.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every((function(t){return r.O[t](e[s])}))?e.splice(s--,1):(u=!1,o<a&&(a=o));if(u){t.splice(c--,1);var f=i();void 0!==f&&(n=f)}}return n}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[e,i,o]}}(),r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(n,e){return r.f[e](t,n),n}),[]))},r.u=function(t){return"static/js/"+t+"."+{318:"4598345c",373:"f53eb50c",495:"0e24de5a"}[t]+".chunk.js"},r.miniCssF=function(t){},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/kana/",function(){r.b=self.location+"/../../../";var t={370:1};r.f.i=function(n,e){t[n]||importScripts(r.p+r.u(n))};var n=self.webpackChunkkana=self.webpackChunkkana||[],e=n.push.bind(n);n.push=function(n){var i=n[0],o=n[1],a=n[2];for(var u in o)r.o(o,u)&&(r.m[u]=o[u]);for(a&&a(r);i.length;)t[i.pop()]=1;e(n)}}(),function(){var t=r.x;r.x=function(){return Promise.all([r.e(373),r.e(318)]).then(t)}}();r.x()}();
//# sourceMappingURL=370.2b3c84cd.chunk.js.map