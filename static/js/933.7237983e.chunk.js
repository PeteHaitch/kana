!function(){"use strict";var t={1933:function(t,n,r){var e,i=r(4660),a=r(7891),o=r(498),u=r(4090),c={},s=!1,f={},l={};function h(t){var n=o.Z(t),r=c.init.clone();try{for(c.total=r.totalEpochs();r.currentEpoch()<c.total;)if(i.runUMAP(r,{runTime:n}),t){var e=r.extractCoordinates();u.b({type:"umap_iter",x:e.x,y:e.y,iteration:r.currentEpoch()},[e.x.buffer,e.y.buffer])}c.final=r.extractCoordinates()}finally{r.free()}}u.j((function(t){var n=t.data.id;"INIT"==t.data.cmd?(e=i.initialize(t.data.scranOptions)).then((function(t){u.b({id:n,type:"init_worker",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RUN"==t.data.cmd?e.then((function(r){var e;"neighbors"in t.data?(a.Yl(c.neighbors),c.neighbors=o.q(t.data.neighbors),e=!0):e=!1;var d={min_dist:t.data.params.min_dist,num_epochs:t.data.params.num_epochs};e||a.xi(d,f)?(a.Yl(c.init),c.init=i.initializeUMAP(c.neighbors,{epochs:d.num_epochs,minDist:d.min_dist}),f=d,s=!0):s=!1;var p={};(s||a.xi(p,l))&&(h(t.data.params.animate),l=p),u.b({id:n,type:"umap_run",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RERUN"==t.data.cmd?e.then((function(t){h(!0),u.b({id:n,type:"umap_rerun",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"FETCH"==t.data.cmd&&e.then((function(t){var r={x:c.final.x.slice(),y:c.final.y.slice(),iterations:c.total},e=[r.x.buffer,r.y.buffer];u.b({id:n,type:"umap_fetch",data:r},e)})).catch((function(t){u.b({id:n,type:"error",error:t})}))}))},4660:function(t,n,r){r.d(n,{FindNearestNeighborsResults:function(){return a.qv},createFloat64WasmArray:function(){return i.RJ},createInt32WasmArray:function(){return i.Wf},initialize:function(){return e.j2},initializeUMAP:function(){return b},runUMAP:function(){return m},safeFree:function(){return i.ek}});var e=r(8782),i=r(6635),a=(r(8311),r(6126),r(6663),r(489),r(8939),r(2284),r(5644),r(5470),r(1196),r(5219),r(6292),r(2195),r(4902),r(2690),r(8420),r(845),r(9283),r(6974),r(1184),r(4812),r(6199),r(5159),r(7067)),o=(r(9273),r(7108));var u=r(5671),c=r(3144),s=r(2346),f=r(6033),l=r(3092),h=new WeakMap,d=new WeakMap,p=new WeakMap,v=function(){function t(n,r,e){(0,u.Z)(this,t),(0,s.Z)(this,h,{writable:!0,value:void 0}),(0,s.Z)(this,d,{writable:!0,value:void 0}),(0,s.Z)(this,p,{writable:!0,value:void 0}),(0,l.Z)(this,h,n),(0,l.Z)(this,d,r),(0,l.Z)(this,p,e)}return(0,c.Z)(t,[{key:"status",get:function(){return(0,f.Z)(this,d)}},{key:"coordinates",get:function(){return(0,f.Z)(this,p)}},{key:"clone",value:function(){var n=this;return o.R((function(t){return(0,f.Z)(n,d).deepcopy()}),t,(0,f.Z)(this,p).clone())}},{key:"numberOfCells",value:function(){return(0,f.Z)(this,d).num_obs()}},{key:"currentEpoch",value:function(){return(0,f.Z)(this,d).epoch()}},{key:"totalEpochs",value:function(){return(0,f.Z)(this,d).num_epochs()}},{key:"extractCoordinates",value:function(){return i.ab(this.numberOfCells(),(0,f.Z)(this,p).array())}},{key:"free",value:function(){null!==(0,f.Z)(this,d)&&(o.A((0,f.Z)(this,h)),(0,l.Z)(this,d,null)),null!==(0,f.Z)(this,p)&&((0,f.Z)(this,p).free(),(0,l.Z)(this,p,null))}}]),t}();function b(t){var n,r,e,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.neighbors,s=void 0===c?15:c,f=u.epochs,l=void 0===f?500:f,h=u.minDist,d=void 0===h?.01:h,p=u.numberOfThreads,b=void 0===p?null:p,m=i.mV(b);try{var y;t instanceof a.ZF?(n=(0,a.wf)(t,s,{numberOfThreads:m}),y=n):y=t,r=i.RJ(2*y.numberOfCells()),e=o.R((function(t){return t.initialize_umap(y.results,l,d,r.offset,m)}),v,r)}catch(Z){throw i.gd(e),i.gd(r),Z}finally{i.gd(n)}return e}function m(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.runTime,i=void 0===r?null:r;null===i&&(i=-1),e.RE((function(n){return n.run_umap(t.status,i,t.coordinates.offset)}))}r(2494),r(5696),r(2732),r(9249),r(3779),r(4021),r(3459)}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,r.x=function(){var t=r.O(void 0,[386,431],(function(){return r(1933)}));return t=r.O(t)},function(){var t=[];r.O=function(n,e,i,a){if(!e){var o=1/0;for(f=0;f<t.length;f++){e=t[f][0],i=t[f][1],a=t[f][2];for(var u=!0,c=0;c<e.length;c++)(!1&a||o>=a)&&Object.keys(r.O).every((function(t){return r.O[t](e[c])}))?e.splice(c--,1):(u=!1,a<o&&(o=a));if(u){t.splice(f--,1);var s=i();void 0!==s&&(n=s)}}return n}a=a||0;for(var f=t.length;f>0&&t[f-1][2]>a;f--)t[f]=t[f-1];t[f]=[e,i,a]}}(),r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(n,e){return r.f[e](t,n),n}),[]))},r.u=function(t){return"static/js/"+t+"."+{386:"62cefa72",431:"15d644da",909:"21d507c0"}[t]+".chunk.js"},r.miniCssF=function(t){},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/kana/",function(){r.b=self.location+"/../../../";var t={933:1};r.f.i=function(n,e){t[n]||importScripts(r.p+r.u(n))};var n=self.webpackChunkkana=self.webpackChunkkana||[],e=n.push.bind(n);n.push=function(n){var i=n[0],a=n[1],o=n[2];for(var u in a)r.o(a,u)&&(r.m[u]=a[u]);for(o&&o(r);i.length;)t[i.pop()]=1;e(n)}}(),function(){var t=r.x;r.x=function(){return Promise.all([r.e(386),r.e(431)]).then(t)}}();r.x()}();
//# sourceMappingURL=933.7237983e.chunk.js.map